(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3325],{6489:function(e,t){"use strict";t.Q=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var r={},o=t||{},s=e.split(";"),a=o.decode||n,c=0;c<s.length;c++){var u=s[c],l=u.indexOf("=");if(!(l<0)){var d=u.substring(0,l).trim();if(void 0==r[d]){var h=u.substring(l+1,u.length).trim();'"'===h[0]&&(h=h.slice(1,-1)),r[d]=i(h,a)}}}return r},t.q=function(e,t,n){var i=n||{},s=i.encode||r;if("function"!==typeof s)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var a=s(t);if(a&&!o.test(a))throw new TypeError("argument val is invalid");var c=e+"="+a;if(null!=i.maxAge){var u=i.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(i.domain){if(!o.test(i.domain))throw new TypeError("option domain is invalid");c+="; Domain="+i.domain}if(i.path){if(!o.test(i.path))throw new TypeError("option path is invalid");c+="; Path="+i.path}if(i.expires){if("function"!==typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+i.expires.toUTCString()}i.httpOnly&&(c+="; HttpOnly");i.secure&&(c+="; Secure");if(i.sameSite){switch("string"===typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var n=decodeURIComponent,r=encodeURIComponent,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e,t){try{return t(e)}catch(n){return e}}},3580:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(5893),o=n(1724),i=n.n(o),s=n(7294),a=n(6583),c=n(6489);function u(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(r){}return e}var l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)},d=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?c.Q(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=c.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),u(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=u(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=l(l({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=c.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=l(l({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=l({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=c.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),h=s.createContext(new d),f=(h.Provider,h.Consumer,h);function m(e){var t=(0,s.useContext)(f);if(!t)throw new Error("Missing <CookiesProvider>");var n=t.getAll(),r=(0,s.useState)(n),o=r[0],i=r[1],a=(0,s.useRef)(o);return"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement&&(0,s.useLayoutEffect)((function(){function n(){var n=t.getAll();(function(e,t,n){if(!e)return!0;for(var r=0,o=e;r<o.length;r++){var i=o[r];if(t[i]!==n[i])return!0}return!1})(e||null,n,a.current)&&i(n),a.current=n}return t.addChangeListener(n),function(){t.removeChangeListener(n)}}),[t]),[o,(0,s.useMemo)((function(){return t.set.bind(t)}),[t]),(0,s.useMemo)((function(){return t.remove.bind(t)}),[t])]}var _=n(4051),p=n.n(_);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(c){a=!0,o=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}p().mark((function e(){var t,n,r,o,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=(0,s.useState)(" "))[0],t[1],n=v(m(["id"]),2),r=n[0],n[1],console.log("hoiiiiiii"),o=r.id,e.next=6,fetch("https://localhost:3333/login/session_id",{method:"POST",body:JSON.stringify({user:o}),headers:{"Content-Type":"application/json"}});case 6:return e.next=8,e.sent.json();case 8:if(i=e.sent,console.log("authcheck TF",r.nickname),"ok"!==i.result){e.next=15;break}return console.log("true returned"),e.abrupt("return",!0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)}));function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(c){a=!0,o=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}var x=function(e){var t=e.roomID,n=(0,s.useState)(!0),o=(n[0],n[1],(0,s.useState)("")),c=o[0],u=o[1],l=(0,s.useState)([]),d=l[0],h=l[1],f=w(m(["roomID"]),2),_=f[0];(0,f[1])("roomID",t),(0,s.useEffect)((function(){return a.W.connect(),console.log("in sock compo roomID?",_.roomID,"\n",t),void 0!=t?(console.log("if in"),a.W.emit("join-room",t,"dummy-nick")):void 0==t?(console.log("else if in"),a.W.emit("join-room",_.roomID,"dummy-nick")):console.log("somethings wrong!"),function(){console.log("unmounted"),a.W.disconnect()}}),[]);a.W.on("createMessage",(function(e,t){console.log("create msg!"),h(C(d).concat([{userName:t,message:e}]))}));return(0,r.jsx)(a.J.Provider,{value:a.W,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:i().header,children:(0,r.jsxs)("div",{className:i().logo,children:[(0,r.jsx)("div",{className:i().header__back,children:(0,r.jsx)("i",{className:"styles.fas fa-angle-left"})}),(0,r.jsx)("h3",{children:"Socket Chat"})]})}),(0,r.jsxs)("div",{className:i().main,children:[(0,r.jsxs)("div",{className:i().main__left,children:[(0,r.jsxs)("div",{className:i().videos__group,children:[(0,r.jsx)("p",{style:{color:"white"},children:"Graphs will be here soon!"}),(0,r.jsx)("div",{id:i().video_grid})]}),(0,r.jsxs)("div",{className:i().options,children:[(0,r.jsxs)("div",{className:i().options__left,children:[(0,r.jsx)("div",{id:i().downloadButton,className:i().options__button,children:(0,r.jsx)("i",{className:"fa-solid fa-download"})}),(0,r.jsx)("div",{id:i().questionButton,className:i().options__button,children:(0,r.jsx)("i",{className:"fa-solid fa-circle-question"})}),(0,r.jsx)("div",{id:i().showChat,className:i().options__button,children:(0,r.jsx)("i",{className:"fa fa-comment"})})]}),(0,r.jsx)("div",{className:i().options__right,children:(0,r.jsx)("div",{id:i().inviteButton,className:i().options__button,children:(0,r.jsx)("i",{className:"fas fa-user-plus"})})})]})]}),(0,r.jsxs)("div",{className:i().main__right,children:[(0,r.jsx)("div",{className:i().main__chat_window,children:(0,r.jsx)("div",{className:i().messages,children:d.map((function(e,t){var n=e.userName,o=e.message;return(0,r.jsx)("div",{className:i().message,children:(0,r.jsxs)("h3",{children:[n,":",(0,r.jsx)("span",{children:o})]})},t)}))})}),(0,r.jsxs)("div",{className:i().main__message_container,children:[(0,r.jsx)("input",{onChange:function(e){u(e.target.value),console.log(c)},value:c,id:i().chat_message,type:"text",autoComplete:"off",placeholder:"Type message here..."}),(0,r.jsx)("div",{onClick:function(){0!==c.length?(console.log("none zero"),a.W.emit("message",c),u("")):console.log("text length is zero")},id:i().send,className:i().options__button,children:(0,r.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"})})]})]})]})]})})}},6583:function(e,t,n){"use strict";n.d(t,{J:function(){return s},W:function(){return i}});var r=n(7294),o=n(6809),i=n.n(o)()("https://localhost:3333",{transports:["websocket"]}),s=(0,r.createContext)(i)},1724:function(e){e.exports={root:"Chat_root__UdO7s",header:"Chat_header__aCAg_",logo:"Chat_logo__vyW6R",main:"Chat_main___VSWW",main__left:"Chat_main__left__84PSN",videos__group:"Chat_videos__group__KCvOQ",options:"Chat_options__zzeQE",options__left:"Chat_options__left__FV578",options__right:"Chat_options__right__rBBOn",options__button:"Chat_options__button__jWpX4",background__red:"Chat_background__red__ha0rU",main__right:"Chat_main__right__XCVCh",main__chat_window:"Chat_main__chat_window__yAamR",main__message_container:"Chat_main__message_container__tfJhQ",messages:"Chat_messages__JaF3N",message:"Chat_message__hRlwN",video_grid:"Chat_video_grid__Iervg",showChat:"Chat_showChat__ldO7h",header__back:"Chat_header__back__dLaYy"}},7020:function(){}}]);