(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6328],{43356:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/monkey-eye/operate",function(){return r(73365)}])},73538:function(e,n,r){"use strict";var a=r(51438),s=r(52951),t=r(88029),i=r(5950),c=r(85893),o=r(67294),l=r(41664),d=r.n(l),u=function(e){(0,t.Z)(r,e);var n=(0,i.Z)(r);function r(){return(0,a.Z)(this,r),n.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){var e=this.props,n=e.pageTitle,r=e.homePageUrl,a=e.homePageText,s=e.activePageText,t=e.bgImgClass;return(0,c.jsxs)("div",{className:"page-title-area ".concat(t),children:[(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"page-title-content",children:[(0,c.jsx)("h2",{children:n}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:(0,c.jsx)(d(),{href:r,children:(0,c.jsx)("a",{children:a})})}),(0,c.jsx)("li",{children:s})]})]})}),(0,c.jsxs)("div",{className:"lines",children:[(0,c.jsx)("div",{className:"line"}),(0,c.jsx)("div",{className:"line"}),(0,c.jsx)("div",{className:"line"})]})]})}}]),r}(o.Component);n.Z=u},78348:function(e,n,r){"use strict";var a=r(51438),s=r(52951),t=r(88029),i=r(5950),c=r(85893),o=r(67294),l=r(41664),d=r.n(l),u=function(e){(0,t.Z)(r,e);var n=(0,i.Z)(r);function r(){return(0,a.Z)(this,r),n.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){(new Date).getFullYear();return(0,c.jsxs)("footer",{className:"footer-area",children:[(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-md-12",children:(0,c.jsx)("div",{className:"single-footer-widget",children:(0,c.jsxs)("div",{className:"footer-contact-list",children:[(0,c.jsx)("div",{className:"title",children:"Contacts"}),(0,c.jsxs)("div",{className:"info",children:[(0,c.jsx)("strong",{children:"Email:"})," jangjun_park@portal301.com"]}),(0,c.jsxs)("div",{className:"info",children:[(0,c.jsx)("strong",{children:"Phone:"})," +82 10-5609-9527"]})]})})})})}),(0,c.jsx)("div",{className:"copyright-area",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"row align-items-center",children:(0,c.jsx)("div",{className:"col-md-12",children:(0,c.jsx)("ul",{children:(0,c.jsx)("li",{children:(0,c.jsx)(d(),{href:"/",children:(0,c.jsx)("a",{children:"\xa9 Copyright PORTAL301 All Rights Reserved."})})})})})})})})]})}}]),r}(o.Component);n.Z=u},44108:function(e,n,r){"use strict";r.d(n,{Z:function(){return u}});var a=r(828),s=r(82222),t=r(85893),i=r(67294),c=r(13823),o=r(70461),l=r(9473),d=r(32505);function u(){var e=(0,l.I0)(),n=(0,l.v9)(d.h5),r=(0,i.useRef)(),u=(0,l.v9)(d.L4),m=(0,i.useState)(!0),h=m[0],v=m[1],f=(0,a.Z)((0,o.Z)(["id","nickname"]),2),g=f[0];f[1];(0,i.useEffect)((function(){return console.log("cookies.id:",g.id),"undefined"===g.id&&console.log("aaaaaaaaa",(0,s.Z)(g.id)),void 0===g.id||"undefined"===g.id?(r.current=!1,e((0,d.Q2)(!1)),e((0,d.vm)("")),e((0,d.ng)(""))):(r.current=!0,e((0,d.Q2)(!0)),e((0,d.vm)(g.id)),e((0,d.ng)(g.nickname))),console.log("is?",r.current),document.getElementById("navbar").classList.add("is-sticky"),function(){!1}}),[]);var x=h?"collapse navbar-collapse":"collapse navbar-collapse show",j=h?"navbar-toggler navbar-toggler-right collapsed":"navbar-toggler navbar-toggler-right";return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{id:"navbar",className:"navbar-area",children:(0,t.jsx)("div",{className:"main-nav",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"navbar navbar-expand-md navbar-light",children:[(0,t.jsx)(c.Z,{href:"/",children:(0,t.jsxs)("a",{className:"navbar-brand",children:[(0,t.jsx)("img",{src:"/images/main_bar.png",className:"main-bar",alt:"logo"}),(0,t.jsx)("img",{src:"/images/main_logo3.png",className:"optional-logo",alt:"logo"})]})}),(0,t.jsxs)("button",{onClick:function(){v((function(e){return!e}))},className:j,type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:[(0,t.jsx)("span",{className:"icon-bar top-bar"}),(0,t.jsx)("span",{className:"icon-bar middle-bar"}),(0,t.jsx)("span",{className:"icon-bar bottom-bar"})]}),(0,t.jsxs)("div",{className:x,id:"navbarSupportedContent",children:[(0,t.jsxs)("ul",{className:"navbar-nav",children:[!1===n?(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsx)(c.Z,{href:"/registration",activeClassName:"active",children:(0,t.jsx)("a",{className:"nav-link",children:"Registration"})})}):(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsx)(c.Z,{href:"/mypage",activeClassName:"active",children:(0,t.jsxs)("a",{className:"nav-link",children:[u,"\ub2d8"]})})}),!1===n?(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsx)(c.Z,{href:"/login",activeClassName:"active",children:(0,t.jsx)("a",{className:"nav-link",children:"Log In"})})}):(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsx)(c.Z,{href:"/logout",activeClassName:"active",children:(0,t.jsx)("a",{className:"nav-link",children:"Log Out"})})})]}),(0,t.jsx)("div",{className:"others-options"})]})]})})})})})}},37762:function(e,n,r){"use strict";r.d(n,{Z:function(){return t}});var a=r(85893);r(67294),r(41664);function s(e){return(0,a.jsx)("div",{onClick:function(){e.onSelect(e.profile)},className:"service-profile-card",children:(0,a.jsxs)("div",{className:"frame",children:[(0,a.jsx)("div",{className:"icon",children:(0,a.jsx)("i",{className:"flaticon-automatic"})}),(0,a.jsxs)("div",{className:"info",children:[(0,a.jsx)("h3",{children:(0,a.jsx)("a",{children:e.profile.nickname})}),(0,a.jsxs)("p",{children:["SID: ",e.profile.sid]})]})]})})}function t(e){var n=function(n){e.onProfileSelect(n)},r=e.profileList,t=[],i=!0,c=!1,o=void 0;try{for(var l,d=r[Symbol.iterator]();!(i=(l=d.next()).done);i=!0){var u=l.value;t.push((0,a.jsx)(s,{onSelect:n,profile:u},Math.random()))}}catch(m){c=!0,o=m}finally{try{i||null==d.return||d.return()}finally{if(c)throw o}}return(0,a.jsx)("div",{className:"scroll-area",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("h3",{children:"Select Service Profile"}),(0,a.jsx)("div",{className:"row",children:t})]})})}},73365:function(e,n,r){"use strict";r.r(n),r.d(n,{App:function(){return S},default:function(){return k}});var a=r(47568),s=r(828),t=r(70655),i=r(85893),c=r(67294),o=r(86809),l=r.n(o),d=r(44108),u=r(73538),m=r(78348),h=(r(41664),r(5152)),v=r.n(h),f=v()((function(){return r.e(8043).then(r.bind(r,18043)).then((function(e){return e.Donut}))}),{loadableGenerated:{webpack:function(){return[18043]}},ssr:!1});function g(e){var n=(0,c.useState)(!1),r=(n[0],n[1]),a=(0,c.useState)(0),s=a[0],t=a[1];(0,c.useEffect)((function(){t(e.value),r(!0)}),[]);return(0,i.jsx)("div",{className:"single-knob",children:(0,i.jsx)(f,{diameter:150,min:0,max:100,step:1,value:s,theme:{donutColor:"white",bgrColor:"gray",maxedBgrColor:"red",centerColor:"#1c1945",centerFocusedColor:"#13112e",donutThickness:3},onValueChange:function(n){t(n),e.onChange(e.id,n)},ariaLabelledBy:"my-label",children:(0,i.jsx)("label",{id:"my-label",children:e.label})})})}var x=v()((function(){return r.e(8043).then(r.bind(r,18043)).then((function(e){return e.Donut}))}),{loadableGenerated:{webpack:function(){return[18043]}},ssr:!1});function j(e){var n=(0,c.useState)(!1),r=(n[0],n[1]),a=(0,c.useState)(0),s=a[0],t=a[1];return(0,c.useEffect)((function(){t(e.value),r(!0)}),[]),(0,i.jsx)("div",{className:"single-knob-indicator",children:(0,i.jsx)(x,{diameter:80,min:0,max:100,step:1,value:s,theme:{donutColor:"yellow",bgrColor:"gray",maxedBgrColor:"red",centerColor:"#1c1945",centerFocusedColor:"#13112e",donutThickness:3},ariaLabelledBy:"my-label",children:(0,i.jsx)("label",{id:"my-label",children:e.label})})})}var p=function(e){var n={arm:{0:50,1:90,2:90,3:0}},r=(0,c.useState)(n),a=r[0],s=r[1],t=function(r,t){(n=a).arm[r]=t,s(n),e.onChange(a)};return(0,i.jsx)("section",{className:"services-area bg-f2f6f9 ptb-110",children:(0,i.jsx)("div",{className:"control-area",children:(0,i.jsxs)("div",{className:"control-panel",children:[(0,i.jsx)("label",{className:"title",children:"Control Box"}),(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-lg-8",children:(0,i.jsxs)("div",{className:"controller",children:[(0,i.jsx)("label",{className:"title",children:"Control"}),(0,i.jsx)("div",{className:"knob-box",children:(0,i.jsx)(g,{onChange:t,id:0,value:a.arm[0],label:"height"})}),(0,i.jsx)("div",{className:"knob-box",children:(0,i.jsx)(g,{onChange:t,id:1,value:a.arm[1],label:"length"})}),(0,i.jsx)("div",{className:"knob-box",children:(0,i.jsx)(g,{onChange:t,id:2,value:a.arm[2],label:"theta0"})}),(0,i.jsx)("div",{className:"knob-box",children:(0,i.jsx)(g,{onChange:t,id:3,value:a.arm[3],label:"theta1"})})]})}),(0,i.jsx)("div",{className:"col-lg-4",children:(0,i.jsxs)("div",{className:"indicator",children:[(0,i.jsx)("label",{className:"title",children:"indicator"}),(0,i.jsx)("div",{className:"knob-box",children:(0,i.jsx)(j,{value:50})}),(0,i.jsx)("div",{className:"knob-box",children:(0,i.jsx)(j,{value:50})}),(0,i.jsx)("div",{className:"knob-box",children:(0,i.jsx)(j,{value:50})}),(0,i.jsx)("div",{className:"knob-box",children:(0,i.jsx)(j,{value:50})})]})})]})})]})})})},N=r(37762),b=r(96894),y={iceServers:[{urls:"turn:3.35.133.246",username:"user",credential:"pass"},{urls:"stun:stun.l.google.com:19302"}]},C=b.d5,S=function(){var e=function(e){console.log("Remote stream added. event.stream?>>>",e.stream),v.current.srcObject=e.stream},n=function(e){console.log("Remote stream removed. Event:",e)},r=(0,c.useRef)(),o=(0,c.useRef)(),h=(0,c.useRef)(),v=(0,c.useRef)(null),f=(0,c.useRef)(),g=(0,c.useState)([]),x=g[0],j=g[1],b=(0,c.useState)([]),S=b[0],k=b[1],w=(0,c.useState)({}),Z=(w[0],w[1]),_=(0,c.useState)(),R=(_[0],_[1]),T=function(e,n){console.log("send message(emit msg-v1)",e,n);var a={from:r.current.id,to:n,message:e};r.current.emit("msg-v1",a)},P=function(e,n){console.log("send message(emit msg-v1)",e,n);var a={from:r.current.id,to:n,message:e};r.current.emit("msg-v2",a)},E=function(){var e=(0,a.Z)((function(e){return(0,t.__generator)(this,(function(n){return console.log(e),r.current.emit("Join_Service",e.sid),[2]}))}));return function(n){return e.apply(this,arguments)}}(),L=function(e){console.log("Failed to create session description: "+e.toString())},I=function(){var s=(0,a.Z)((function(s,i){return(0,t.__generator)(this,(function(c){try{o.current=new RTCPeerConnection(y),o.current.onicecandidate=function(e){if(e.candidate){if(!r.current)return;console.log("onicecandidate"),T({type:"candidate",label:e.candidate.sdpMLineIndex,id:e.candidate.sdpMid,candidate:e.candidate.candidate},i)}else console.log("End of candidates")},o.current.setRemoteDescription(new RTCSessionDescription(s)),o.current.onaddstream=e,o.current.onremovestream=n,console.log("answer set remote description success",o.current),console.log("sending answer to peer"),o.current.createAnswer().then(function(){var e=(0,a.Z)((function(e){return(0,t.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.current.setLocalDescription(e)];case 1:return n.sent(),console.log("setLocalAndSendMessage sending message",e),T(e,i),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),L)}catch(l){console.error(l)}return[2]}))}));return function(e,n){return s.apply(this,arguments)}}(),O=(0,c.useState)([]),D=O[0],A=O[1];(0,c.useEffect)((function(){A(D.concat({header:"ServiceList",filter:{}}));var n=new Array({header:"ServiceList",filter:{}});return r.current=l()(C,{transports:["websocket"]}),r.current.connected?console.log("connected"):console.log("not conn"),r.current.emit("q_service",n),o.current=new RTCPeerConnection(y),r.current.on("joined",(function(e,n){T("connection request"),console.log("connection request")})),r.current.on("join",(function(e){console.log("Another peer made a request to join room "+e),console.log("This peer is the initiator of room "+e+"!")})),r.current.on("q_result",(function(e){var n=JSON.parse(e);if("ServiceList"===n.header){f.current=n.data,j(n.data);var r=S,a=!0,t=!1,i=void 0;try{for(var c,o=Object.entries(Object(f.current))[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var l=(0,s.Z)(c.value,2),d=l[0],u=l[1];r=r.concat("".concat(d,":").concat(u.sid))}}catch(m){t=!0,i=m}finally{try{a||null==o.return||o.return()}finally{if(t)throw i}}k(r)}})),r.current.on("msg-v1",function(){var n=(0,a.Z)((function(n){var r,a;return(0,t.__generator)(this,(function(s){console.log("------------------msg-v1 ",n.message.type,"-------------------"),r=n.message,console.log("msg from:",n.from),console.log("Client received message:",r),h.current=n.from;try{if("connection request"===r)console.log("check : connection request");else if("offer"===r.type)I(r,n.from);else if("answer"===r.type){if(!o.current)return[2];console.log("signalingStat",o.current.signalingState),"stable"!==o.current.signalingState&&(console.log("set the pcRef : ",o.current),o.current.setRemoteDescription(new RTCSessionDescription(r)),o.current.onaddstream=e)}else"candidate"===r.type&&(a=new RTCIceCandidate({sdpMLineIndex:r.label,candidate:r.candidate}),o.current.addIceCandidate(a))}catch(t){console.log("error",t)}return[2]}))}));return function(e){return n.apply(this,arguments)}}()),r.current.on("log",(function(e){console.log(e)})),function(){r.current,o.current}}),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{}),(0,i.jsx)(u.Z,{pageTitle:"Monkey Eye",homePageUrl:"/",homePageText:"Home",activePageText:"Teleoperation",bgImgClass:"item-bg2"}),(0,i.jsx)("div",{className:"base-frame bg-f2f6f9",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-lg-6 col-sm-8",children:(0,i.jsx)("div",{className:"video-area",children:(0,i.jsx)("video",{id:"remotevideo",style:{width:360,height:360,margin:5,backgroundColor:"gray"},ref:v,autoPlay:!0})})}),(0,i.jsx)("div",{className:"col-lg-6 col-sm-8",children:(0,i.jsx)("div",{className:"service-list-area",children:(0,i.jsx)(N.Z,{profileList:x,onProfileSelect:function(e){Z(e),E(e),console.log("Selected profile:",e)}})})})]})})}),(0,i.jsx)(p,{onChange:function(e){var n=JSON.stringify({type:"DUP",data:e});R(n),P(n,null),console.log("operate:",n)}}),(0,i.jsx)("button",{onClick:function(){var e=JSON.stringify({type:"CONFIG",data:{record:"START"}});R(e),P(e,null),console.log("operate:",e)},children:"Start Motion recording"}),(0,i.jsx)("button",{onClick:function(){var e=JSON.stringify({type:"CONFIG",data:{record:"WRITE"}});R(e),P(e,null),console.log("operate:",e)},children:"Save Motion recording"}),(0,i.jsx)(m.Z,{})]})},k=S},96894:function(e,n,r){"use strict";r.d(n,{Ki:function(){return s},d5:function(){return a}});var a="https://api.portal301.com/",s="https://soup.portal301.com/"},13823:function(e,n,r){"use strict";var a=r(26042),s=r(69396),t=r(99534),i=r(85893),c=r(11163),o=r(41664),l=r.n(o),d=r(67294);n.Z=(0,c.withRouter)((function(e){var n=e.router,r=e.children,c=(0,t.Z)(e,["router","children"]),o=d.Children.only(r),u=o.props.className||"";return n.pathname===c.href&&c.activeClassName&&(u="".concat(u," ").concat(c.activeClassName).trim()),delete c.activeClassName,(0,i.jsx)(l(),(0,s.Z)((0,a.Z)({},c),{children:d.cloneElement(o,{className:u})}))}))},77020:function(){},47568:function(e,n,r){"use strict";function a(e,n,r,a,s,t,i){try{var c=e[t](i),o=c.value}catch(l){return void r(l)}c.done?n(o):Promise.resolve(o).then(a,s)}function s(e){return function(){var n=this,r=arguments;return new Promise((function(s,t){var i=e.apply(n,r);function c(e){a(i,s,t,c,o,"next",e)}function o(e){a(i,s,t,c,o,"throw",e)}c(void 0)}))}}r.d(n,{Z:function(){return s}})}},function(e){e.O(0,[1664,5234,7506,9774,2888,179],(function(){return n=43356,e(e.s=n);var n}));var n=e.O();_N_E=n}]);