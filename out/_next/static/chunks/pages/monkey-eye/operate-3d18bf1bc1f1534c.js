(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6328],{3356:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/monkey-eye/operate",function(){return s(206)}])},3538:function(e,n,s){"use strict";var a=s(1438),r=s(2951),t=s(8029),c=s(5950),i=s(5893),o=s(7294),l=s(1664),d=s.n(l),u=function(e){(0,t.Z)(s,e);var n=(0,c.Z)(s);function s(){return(0,a.Z)(this,s),n.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){var e=this.props,n=e.pageTitle,s=e.homePageUrl,a=e.homePageText,r=e.activePageText,t=e.bgImgClass;return(0,i.jsxs)("div",{className:"page-title-area ".concat(t),children:[(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"page-title-content",children:[(0,i.jsx)("h2",{children:n}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(d(),{href:s,children:(0,i.jsx)("a",{children:a})})}),(0,i.jsx)("li",{children:r})]})]})}),(0,i.jsxs)("div",{className:"lines",children:[(0,i.jsx)("div",{className:"line"}),(0,i.jsx)("div",{className:"line"}),(0,i.jsx)("div",{className:"line"})]})]})}}]),s}(o.Component);n.Z=u},8348:function(e,n,s){"use strict";var a=s(1438),r=s(2951),t=s(8029),c=s(5950),i=s(5893),o=s(7294),l=s(1664),d=s.n(l),u=function(e){(0,t.Z)(s,e);var n=(0,c.Z)(s);function s(){return(0,a.Z)(this,s),n.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){(new Date).getFullYear();return(0,i.jsxs)("footer",{className:"footer-area",children:[(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-md-12",children:(0,i.jsx)("div",{className:"single-footer-widget",children:(0,i.jsxs)("div",{className:"footer-contact-list",children:[(0,i.jsx)("div",{className:"title",children:"Contacts"}),(0,i.jsxs)("div",{className:"info",children:[(0,i.jsx)("strong",{children:"Email:"})," jangjun_park@portal301.com"]}),(0,i.jsxs)("div",{className:"info",children:[(0,i.jsx)("strong",{children:"Phone:"})," +82 10-5609-9527"]})]})})})})}),(0,i.jsx)("div",{className:"copyright-area",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"row align-items-center",children:(0,i.jsx)("div",{className:"col-md-12",children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(d(),{href:"/",children:(0,i.jsx)("a",{children:"\xa9 Copyright PORTAL301 All Rights Reserved."})})})})})})})})]})}}]),s}(o.Component);n.Z=u},4108:function(e,n,s){"use strict";s.d(n,{Z:function(){return u}});var a=s(828),r=s(2222),t=s(5893),c=s(7294),i=s(3823),o=s(461),l=s(9473),d=s(2505);function u(){var e=(0,l.I0)(),n=(0,l.v9)(d.h5),s=(0,c.useRef)(),u=(0,l.v9)(d.L4),m=(0,c.useState)(!0),g=m[0],h=m[1],v=(0,a.Z)((0,o.Z)(["id","nickname"]),2),p=v[0];v[1];(0,c.useEffect)((function(){return console.log("cookies.id:",p.id),"undefined"===p.id&&console.log("aaaaaaaaa",(0,r.Z)(p.id)),void 0===p.id||"undefined"===p.id?(s.current=!1,e((0,d.Q2)(!1)),e((0,d.vm)("")),e((0,d.ng)(""))):(s.current=!0,e((0,d.Q2)(!0)),e((0,d.vm)(p.id)),e((0,d.ng)(p.nickname))),console.log("is?",s.current),document.getElementById("navbar").classList.add("is-sticky"),function(){!1}}),[]);var f=g?"collapse navbar-collapse":"collapse navbar-collapse show",x=g?"navbar-toggler navbar-toggler-right collapsed":"navbar-toggler navbar-toggler-right";return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{id:"navbar",className:"navbar-area",children:(0,t.jsx)("div",{className:"main-nav",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"navbar navbar-expand-md navbar-light",children:[(0,t.jsx)(i.Z,{href:"/",children:(0,t.jsxs)("a",{className:"navbar-brand",children:[(0,t.jsx)("img",{src:"/images/main_bar.png",className:"main-bar",alt:"logo"}),(0,t.jsx)("img",{src:"/images/main_logo3.png",className:"optional-logo",alt:"logo"})]})}),(0,t.jsxs)("button",{onClick:function(){h((function(e){return!e}))},className:x,type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:[(0,t.jsx)("span",{className:"icon-bar top-bar"}),(0,t.jsx)("span",{className:"icon-bar middle-bar"}),(0,t.jsx)("span",{className:"icon-bar bottom-bar"})]}),(0,t.jsxs)("div",{className:f,id:"navbarSupportedContent",children:[(0,t.jsxs)("ul",{className:"navbar-nav",children:[!1===n?(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsx)(i.Z,{href:"/registration",activeClassName:"active",children:(0,t.jsx)("a",{className:"nav-link",children:"Registration"})})}):(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsx)(i.Z,{href:"/mypage",activeClassName:"active",children:(0,t.jsxs)("a",{className:"nav-link",children:[u,"\ub2d8"]})})}),!1===n?(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsx)(i.Z,{href:"/login",activeClassName:"active",children:(0,t.jsx)("a",{className:"nav-link",children:"Log In"})})}):(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsx)(i.Z,{href:"/logout",activeClassName:"active",children:(0,t.jsx)("a",{className:"nav-link",children:"Log Out"})})})]}),(0,t.jsx)("div",{className:"others-options"})]})]})})})})})}},206:function(e,n,s){"use strict";s.r(n),s.d(n,{App:function(){return R},default:function(){return T}});var a=s(7568),r=s(4924),t=s(6042),c=s(9396),i=s(828),o=s(4051),l=s.n(o),d=s(5893),u=s(7294),m=s(6809),g=s.n(m),h=s(4108),v=s(3538),p=s(8348),f=s(1664),x=s.n(f),j=s(5152),N=s.n(j)()((function(){return s.e(8043).then(s.bind(s,8043)).then((function(e){return e.Donut}))}),{loadableGenerated:{webpack:function(){return[8043]}},ssr:!1});function b(e){var n=(0,u.useState)(!1),s=(n[0],n[1]),a=(0,u.useState)(0),r=a[0],t=a[1];(0,u.useEffect)((function(){t(e.value),s(!0)}),[]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(N,{diameter:150,min:0,max:100,step:1,value:r,theme:{donutColor:"blue"},onValueChange:function(n){t(n),e.onChange(n),console.log("changed")},ariaLabelledBy:"my-label",children:(0,d.jsx)("label",{id:"my-label",children:e.label})})})}var k=function(e){var n=function(n){e.onChange(n),console.log("panel:",n)};return(0,d.jsxs)("section",{className:"services-area bg-f2f6f9 ptb-110",children:[(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col-lg-4 col-sm-6",children:[(0,d.jsxs)("div",{className:"controller",children:[(0,d.jsx)("div",{className:"knob-box",children:(0,d.jsx)(b,{onChange:n,value:50,label:"height"})}),(0,d.jsx)("div",{className:"knob-box",children:(0,d.jsx)(b,{onChange:n,value:80,label:"length"})}),(0,d.jsx)("div",{className:"knob-box",children:(0,d.jsx)(b,{onChange:n,value:90,label:"theta0"})}),(0,d.jsx)("div",{className:"knob-box",children:(0,d.jsx)(b,{onChange:n,value:90,label:"theta1"})})]}),(0,d.jsxs)("div",{className:"indicator",children:[(0,d.jsx)("div",{className:"knob-box",children:(0,d.jsx)(b,{onChange:n,value:50})}),(0,d.jsx)("div",{className:"knob-box",children:(0,d.jsx)(b,{onChange:n,value:50})}),(0,d.jsx)("div",{className:"knob-box",children:(0,d.jsx)(b,{onChange:n,value:50})}),(0,d.jsx)("div",{className:"knob-box",children:(0,d.jsx)(b,{onChange:n,value:50})})]})]})})}),(0,d.jsx)("div",{className:"shape-img2",children:(0,d.jsx)("img",{src:"/images/shape/shape2.svg",alt:"image"})}),(0,d.jsx)("div",{className:"shape-img3",children:(0,d.jsx)("img",{src:"/images/shape/shape3.png",alt:"image"})}),(0,d.jsx)("div",{className:"shape-img4",children:(0,d.jsx)("img",{src:"/images/shape/shape4.svg",alt:"image"})}),(0,d.jsx)("div",{className:"shape-img5",children:(0,d.jsx)("img",{src:"/images/shape/shape5.svg",alt:"image"})}),(0,d.jsx)("div",{className:"shape-img3",children:(0,d.jsx)("img",{src:"/images/shape/shape3.png",alt:"image"})}),(0,d.jsx)("div",{className:"dot-shape1",children:(0,d.jsx)("img",{src:"/images/shape/dot1.png",alt:"image"})}),(0,d.jsx)("div",{className:"dot-shape2",children:(0,d.jsx)("img",{src:"/images/shape/dot3.png",alt:"image"})}),(0,d.jsx)("div",{className:"dot-shape2",children:(0,d.jsx)("img",{src:"/images/shape/dot4.png",alt:"image"})}),(0,d.jsx)("div",{className:"dot-shape2",children:(0,d.jsx)("img",{src:"/images/shape/dot5.png",alt:"image"})}),(0,d.jsx)("div",{className:"dot-shape2",children:(0,d.jsx)("img",{src:"/images/shape/dot6.png",alt:"image"})})]})};function C(e){return(0,d.jsx)("div",{className:"col-lg-4 col-sm-6",children:(0,d.jsxs)("div",{onClick:function(){e.onSelect(e.profile)},className:"single-services-box",children:[(0,d.jsx)("div",{className:"panel",children:(0,d.jsx)("div",{className:"icon",children:(0,d.jsx)("i",{className:"flaticon-automatic"})})}),(0,d.jsx)("h3",{children:(0,d.jsx)(x(),{href:"/webrtc",children:(0,d.jsx)("a",{children:e.profile.nickname})})}),(0,d.jsxs)("p",{children:["SID: ",e.profile.sid]})]})})}function w(e){var n=function(n){e.onProfileSelect(n)},s=e.profileList,a=[],r=!0,t=!1,c=void 0;try{for(var i,o=s[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;a.push((0,d.jsx)(C,{onSelect:n,profile:l}))}}catch(u){t=!0,c=u}finally{try{r||null==o.return||o.return()}finally{if(t)throw c}}return(0,d.jsxs)("section",{className:"services-area bg-f2f6f9 ptb-110",children:[(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h3",{children:"Select Service Profile"}),(0,d.jsx)("div",{className:"row",children:a})]}),(0,d.jsx)("div",{className:"shape-img2",children:(0,d.jsx)("img",{src:"/images/shape/shape2.svg",alt:"image"})}),(0,d.jsx)("div",{className:"shape-img3",children:(0,d.jsx)("img",{src:"/images/shape/shape3.png",alt:"image"})}),(0,d.jsx)("div",{className:"shape-img4",children:(0,d.jsx)("img",{src:"/images/shape/shape4.svg",alt:"image"})}),(0,d.jsx)("div",{className:"shape-img5",children:(0,d.jsx)("img",{src:"/images/shape/shape5.svg",alt:"image"})}),(0,d.jsx)("div",{className:"shape-img3",children:(0,d.jsx)("img",{src:"/images/shape/shape3.png",alt:"image"})}),(0,d.jsx)("div",{className:"dot-shape1",children:(0,d.jsx)("img",{src:"/images/shape/dot1.png",alt:"image"})}),(0,d.jsx)("div",{className:"dot-shape2",children:(0,d.jsx)("img",{src:"/images/shape/dot3.png",alt:"image"})}),(0,d.jsx)("div",{className:"dot-shape2",children:(0,d.jsx)("img",{src:"/images/shape/dot4.png",alt:"image"})}),(0,d.jsx)("div",{className:"dot-shape2",children:(0,d.jsx)("img",{src:"/images/shape/dot5.png",alt:"image"})}),(0,d.jsx)("div",{className:"dot-shape2",children:(0,d.jsx)("img",{src:"/images/shape/dot6.png",alt:"image"})})]})}var y=s(6894),S={iceServers:[{urls:"stun:stun.l.google.com:19302"}]},Z=y.d5,R=function(){var e=function(e){console.log("Remote stream added. event.stream?>>>",e.stream),f.current.srcObject=e.stream},n=(0,u.useRef)(),s=(0,u.useRef)(),o=(0,u.useRef)({}),m=(0,u.useRef)(),f=((0,u.useRef)(null),(0,u.useRef)(null)),x=(0,u.useRef)(),j=((0,u.useRef)(),(0,u.useRef)()),N=(0,u.useState)([]),b=N[0],C=N[1],y=(0,u.useState)([]),R=y[0],T=y[1],_=function(e,s){console.log("send message(emit msg-v1)",e.type,s);var a={from:n.current.id,to:s,message:e};n.current.emit("msg-v1",a)},L=function(){var e=(0,a.Z)(l().mark((function e(a){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),n.current.emit("Join_Service",a.sid),e.prev=2,e.next=5,s.current.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 5:return r=e.sent,e.next=8,s.current.setLocalDescription(new RTCSessionDescription(r));case 8:console.log(s.current.iceGatheringState),s.current.oniceconnectionstatechange=function(e){console.log("oniceconnectionstatechange : ",e.target.connectionState)},_(r,a.sid),m.current=a.sid,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(n){return e.apply(this,arguments)}}(),P=function(){var e=(0,a.Z)(l().mark((function e(){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.current.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 3:return a=e.sent,e.next=6,s.current.setLocalDescription(new RTCSessionDescription(a));case 6:console.log(s.current.iceGatheringState),s.current.oniceconnectionstatechange=function(e){console.log("oniceconnectionstatechange : ",e.target.connectionState)},_(a,m.current),n.current.emit("offer",a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),D=function(e){console.log("Failed to create session description: "+e.toString())},E=function(){var e=(0,a.Z)(l().mark((function e(i,d){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o.current[d]=new RTCPeerConnection(S),s.current.onicecandidate=function(e){if(e.candidate){if(!n.current)return;console.log("onicecandidate"),_({type:"candidate",label:e.candidate.sdpMLineIndex,id:e.candidate.sdpMid,candidate:e.candidate.candidate},d)}},s.current.oniceconnectionstatechange=function(e){console.log("oniceconnectionstatechange : ",e.target.connectionState)},o.current=(0,c.Z)((0,t.Z)({},o.current),(0,r.Z)({},d,s.current)),e.next=7,o.current[d].setRemoteDescription(new RTCSessionDescription(i));case 7:console.log("answer set remote description success",o.current),o.current[d].createAnswer().then(function(){var e=(0,a.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.current[d].setLocalDescription(n);case 2:console.log("setLocalAndSendMessage sending message",n),_(n,d);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),D),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,s){return e.apply(this,arguments)}}(),O=(0,u.useState)([]),A=O[0],I=O[1];(0,u.useEffect)((function(){I(A.concat({header:"ServiceList",filter:{}}));var r=new Array({header:"ServiceList",filter:{}});return n.current=g()(Z,{transports:["websocket"]}),n.current.connected?console.log("connected"):console.log("not conn"),n.current.emit("q_service",r),s.current=new RTCPeerConnection(S),x.current={socketId:n.current.id,room:"room:"+n.current.id,type:"Device_1",description:"Streamer",contents:"jooonik"},n.current.on("all_users",(function(e){console.log("alluser",e.length,e)})),n.current.on("user-connected",(function(e){console.log('"user-connected"',e)})),n.current.on("getOffer",(function(e){console.log("get offer"),E(e)})),n.current.on("getAnswer",(function(n){console.log("get answer"),s.current&&(s.current.setRemoteDescription(new RTCSessionDescription(n)),s.current.onaddstream=e)})),n.current.on("getCandidate",function(){var e=(0,a.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s.current.addIceCandidate(new RTCIceCandidate(n));case 4:console.log("candidate add success");case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),n.current.on("joined",(function(e,n){P(),console.log("joined!")})),n.current.on("join",(function(e){console.log("Another peer made a request to join room "+e),console.log("This peer is the initiator of room "+e+"!")})),n.current.on("q_result",(function(e){var n=JSON.parse(e);if("ServiceList"===n.header){j.current=n.data,C(n.data);var s=R,a=!0,r=!1,t=void 0;try{for(var c,o=Object.entries(Object(j.current))[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var l=(0,i.Z)(c.value,2),d=l[0],u=l[1];s=s.concat("".concat(d,":").concat(u.sid))}}catch(m){r=!0,t=m}finally{try{a||null==o.return||o.return()}finally{if(r)throw t}}T(s)}})),n.current.on("msg-v1",function(){var n=(0,a.Z)(l().mark((function n(a){var r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("------------------msg-v1 ",a.message.type,"-------------------"),r=a.message,console.log("msg from",a.from),console.log("Client received message:",r),m.current=a.from,n.prev=5,"connection request"!==r){n.next=10;break}console.log("check : connection request"),n.next=23;break;case 10:if("offer"!==r.type){n.next=14;break}console.log("check : offer",r),E(r,a.from),n.next=23;break;case 14:if("answer"!==r.type){n.next=22;break}if(s.current){n.next=17;break}return n.abrupt("return");case 17:console.log("signalingStat",s.current.signalingState),"stable"!==s.current.signalingState&&(console.log("set the pcRef : ",s.current),s.current.setRemoteDescription(new RTCSessionDescription(r)),s.current.onaddstream=e),console.log("set the pcRef2 : ",s.current),n.next=23;break;case 22:"candidate"===r.type&&console.log("check : candi");case 23:n.next=28;break;case 25:n.prev=25,n.t0=n.catch(5),console.log("eeeeeeeeeeee",n.t0);case 28:case"end":return n.stop()}}),n,null,[[5,25]])})));return function(e){return n.apply(this,arguments)}}()),n.current.on("log",(function(e){console.log(e)})),function(){n.current,s.current}}),[]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.Z,{}),(0,d.jsx)(v.Z,{pageTitle:"Monkey Eye",homePageUrl:"/",homePageText:"Home",activePageText:"Teleoperation",bgImgClass:"item-bg2"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("video",{id:"remotevideo",style:{width:360,height:360,margin:5,backgroundColor:"gray"},ref:f,autoPlay:!0}),(0,d.jsx)("button",{onClick:function(){P(m.current),console.log(s.current.iceGatheringState)},children:"console debug"})]}),(0,d.jsx)(k,{onChange:function(e){n.current.emit("msg-v1",e),console.log("operate:",e)}}),(0,d.jsx)(w,{profileList:b,onProfileSelect:function(e){L(e),console.log("Selected profile:",e.nickname)}}),(0,d.jsx)(p.Z,{})]})},T=R},6894:function(e,n,s){"use strict";s.d(n,{Ki:function(){return r},d5:function(){return a}});var a="https://api.portal301.com/",r="https://43.201.110.62:3333"},3823:function(e,n,s){"use strict";var a=s(6042),r=s(9396),t=s(9534),c=s(5893),i=s(1163),o=s(1664),l=s.n(o),d=s(7294);n.Z=(0,i.withRouter)((function(e){var n=e.router,s=e.children,i=(0,t.Z)(e,["router","children"]),o=d.Children.only(s),u=o.props.className||"";return n.pathname===i.href&&i.activeClassName&&(u="".concat(u," ").concat(i.activeClassName).trim()),delete i.activeClassName,(0,c.jsx)(l(),(0,r.Z)((0,a.Z)({},i),{children:d.cloneElement(o,{className:u})}))}))},7020:function(){}},function(e){e.O(0,[1664,5234,1643,9774,2888,179],(function(){return n=3356,e(e.s=n);var n}));var n=e.O();_N_E=n}]);