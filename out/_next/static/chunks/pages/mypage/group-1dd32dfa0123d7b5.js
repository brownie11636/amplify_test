(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2443],{3547:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mypage/group",function(){return n(3013)}])},3013:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(4051),o=n.n(r),a=n(5893),i=n(7294),s=n(4119),u=n(6866),c=n(9690),l=n(1661),p=(n(1163),n(981)),d=n.n(p),f=(n(986),n(9473)),h=n(6166);function v(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function g(e){var t=e.fetchData,n=((0,f.v9)(h.L4),(0,f.v9)(h.pW)),r=(0,i.useState)(),s=r[0],u=r[1],c=(0,i.useState)(),l=c[0],p=c[1],g=function(){var e,r=(e=o().mark((function e(){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:3333/mypage/addGroup",{method:"POST",body:JSON.stringify({master_id:n,group_nickname:s,group_password:l}),headers:{"Content-Type":"application/json"}});case 2:r=e.sent,200===(a=r.status)?(console.log("response",r),console.log("200"),t()):404===a?(alert("404 error"),console.log("404")):400===a?(alert("400 error"),console.log("400")):500===a&&(alert("500 error"),console.log("500"));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){v(a,r,o,i,s,"next",e)}function s(e){v(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:d().addDeviceContainer,children:(0,a.jsx)("a",{style:{paddingLeft:50,paddingTop:10,color:"black"},children:"Group Create"})}),(0,a.jsxs)("span",{children:["\uadf8\ub8f9 \uc774\ub984 ",(0,a.jsx)("input",{onChange:function(e){u(e.target.value),console.log(s)},placeholder:"Group Name"})," ",(0,a.jsx)("br",{}),"\uadf8\ub8f9 \ud328\uc2a4\uc6cc\ub4dc ",(0,a.jsx)("input",{onChange:function(e){p(e.target.value),console.log(l)},type:"password",placeholder:"Password"})," ",(0,a.jsx)("br",{}),(0,a.jsx)("input",{onClick:g,style:{marginTop:0},type:"submit",value:"Createa Group"})]})]})}var y=n(262),x=n(7519);function m(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function j(e){var t=e.fetchData,n=((0,f.v9)(h.L4),(0,f.v9)(h.pW)),r=(0,i.useState)(),s=r[0],u=r[1],c=(0,i.useState)(),l=c[0],p=c[1],v=function(){var e,r=(e=o().mark((function e(){var r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new Date).toISOString(),e.next=3,fetch("https://localhost:3333/mypage/groupEntering",{method:"POST",body:JSON.stringify({master_id:n,identifier:s,group_password:l,date:r}),headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:i=e.sent,200===a.status?(console.log("Entering to "+i.group_id),t()):alert(i.err);case 9:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){m(a,r,o,i,s,"next",e)}function s(e){m(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:d().addDeviceContainer,children:(0,a.jsx)("a",{style:{paddingLeft:50,paddingTop:10,color:"black"},children:"Entering to Group"})}),(0,a.jsxs)("span",{children:["\ucd08\ub300 \ub9c1\ud06c ",(0,a.jsx)("input",{onChange:function(e){u(e.target.value)},placeholder:"Invite link"})," ",(0,a.jsx)("br",{}),"\uadf8\ub8f9 \ud328\uc2a4\uc6cc\ub4dc ",(0,a.jsx)("input",{onChange:function(e){p(e.target.value)},type:"password",placeholder:"Password"})," ",(0,a.jsx)("br",{}),(0,a.jsx)("input",{onClick:v,style:{marginTop:0},type:"submit",value:"Entering to group"})]})]})}var w=n(461);n(6543);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){S(a,r,o,i,s,"next",e)}function s(e){S(a,r,o,i,s,"throw",e)}i(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(u){s=!0,o=u}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n(5877).v4;function k(e){var t=e.dvList,n=e.gpList,r=_((0,w.Z)(["id","nickname"]),2),s=(r[0],r[1],(0,f.v9)(h.L4),(0,i.useState)("")),u=s[0],c=s[1];(0,f.v9)(h.pW);function l(){return(l=C(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:3333/mypage/addDevices2Group",{method:"POST",body:JSON.stringify({group_id:u,devices:devices}),headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log("data?",n),200===(r=t.status)?alert("\uadf8\ub8f9\uc5d0 \ub514\ubc14\uc774\uc2a4 \ucd94\uac00 \uc644\ub8cc!"):(alert("sometings wrong!"),console.log("status?",r));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,i.useEffect)((function(){}),[]);var p=function(e){console.log(e.target.value),c(e.target.value)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{children:["\ub514\ubc14\uc774\uc2a4",(0,a.jsx)("select",{onChange:p,value:u,children:t.map((function(e){return(0,a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),"\ub97c \uadf8\ub8f9",(0,a.jsx)("select",{onChange:p,value:u,children:n.map((function(e){return(0,a.jsx)("option",{value:e.group_id,children:e.group_nickname},e.group_id)}))}),"\uc5d0",(0,a.jsx)("input",{onClick:function(){return l.apply(this,arguments)},style:{marginTop:0},type:"submit",value:"\ucd94\uac00"})]})})}function T(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}var P=n(5877).v4;function O(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t=(0,i.useState)([]),n=t[0],r=t[1],p=(0,i.useState)([]),d=p[0],f=p[1],h=function(){var e,t=(e=o().mark((function e(t){var n,r,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Date).setDate(n.getDate()+1),r=n.toISOString(),a=P(),e.next=6,fetch("https://localhost:3333/mypage/createGroupInviteLink",{method:"POST",body:JSON.stringify({groupId:t,expiration:r,identifier:a}),headers:{"Content-Type":"application/json"}});case 6:return i=e.sent,e.next=9,i.json();case 9:s=e.sent,console.log("data?",s),200===i.status?alert("\ucd08\ub300\ub9c1\ud06c \uc0dd\uc131 \uc644\ub8cc: "+a):alert("somethings wrong!");case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){T(a,r,o,i,s,"next",e)}function s(e){T(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",height:"100%",minHeight:720},children:[(0,a.jsx)(l.Z,{}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"},children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)(x.Z,{setDvList:r}),(0,a.jsx)(y.Z,{setGpList:f,inviteCode:h}),(0,a.jsx)(k,{dvList:n,gpList:d}),(0,a.jsx)(g,{}),(0,a.jsx)(j,{})]})]}),(0,a.jsx)(u.Z,{})]})}}},function(e){e.O(0,[5637,1309,1276,4165,9774,2888,179],(function(){return t=3547,e(e.s=t);var t}));var t=e.O();_N_E=t}]);