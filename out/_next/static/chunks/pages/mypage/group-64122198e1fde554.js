(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2443],{1703:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mypage/group",function(){return t(9932)}])},8192:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(7568),s=t(828),a=t(4051),o=t.n(a),i=t(5893),c=t(7294),u=(t(1163),t(461)),l=(t(3823),t(9473)),p=t(2505);t(7466).v4;function d(e){var n=e.groupID,t=(0,s.Z)((0,u.Z)(["id","nickname"]),2),a=(t[0],t[1],(0,l.v9)(p.L4),(0,c.useState)([])),d=a[0],h=a[1],g=(0,c.useState)([]),f=(g[0],g[1],(0,c.useState)("")),v=f[0],x=f[1];(0,l.v9)(p.pW);function j(){return(j=(0,r.Z)(o().mark((function e(){var t,r,s,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n,e.next=3,fetch("https://localhost:3333/mypage/groupDeviceList",{method:"POST",body:JSON.stringify({group_id:t}),headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:s=e.sent,200===(a=r.status)?(console.log(s),h(s),x("")):404===a?(console.log(a),h([]),x("\ud574\ub2f9 \uadf8\ub8f9\uc5d0\ub294 \ub4f1\ub85d\ub41c \ub514\ubc14\uc774\uc2a4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")):(alert("sometings wrong!"),console.log("status?",a),x("\ubb34\uc5b8\uac00 \uc5d0\ub7ec\uac00 \uc788\uc2b5\ub2c8\ub2e4."));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.useEffect)((function(){!function(){j.apply(this,arguments)}()}),[n]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{children:[(0,i.jsx)("ul",{children:d.map((function(e){return(0,i.jsxs)("li",{value:e.device_id,children:["[device_name] ",e.device_name," - [device_type] ",e.device_type]},e.device_id)}))}),v]})})}},8280:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(7568),s=t(828),a=t(4051),o=t.n(a),i=t(5893),c=t(7294),u=(t(1163),t(461)),l=t(584),p=t.n(l),d=(t(3823),t(9473)),h=t(2505);t(7466).v4;function g(e){var n=e.setGpList,t=e.inviteCode,a=(0,s.Z)((0,u.Z)(["id","nickname"]),2),l=a[0],g=(a[1],(0,d.v9)(h.L4),(0,c.useState)([])),f=(g[0],g[1],(0,c.useState)([])),v=f[0],x=f[1],j=(0,c.useState)("");j[0],j[1],(0,d.v9)(h.pW);function m(){return m=(0,r.Z)(o().mark((function e(){var t,r,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.id,e.next=3,fetch("https://localhost:3333/mypage/groupList",{method:"POST",body:JSON.stringify({user_id:t}),headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:s=e.sent,console.log(s),200===r.status&&(x(s),null!=n&&n(s));case 10:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}return(0,c.useEffect)((function(){!function(){m.apply(this,arguments)}()}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:p().addDeviceContainer,children:(0,i.jsx)("a",{style:{paddingLeft:50,paddingTop:10,color:"black"},children:"\ub0b4\uac00 \uc18d\ud55c \uadf8\ub8f9 \ub9ac\uc2a4\ud2b8"})}),(0,i.jsx)("div",{children:(0,i.jsx)("ul",{children:v.map((function(e){return(0,i.jsxs)("li",{value:e.group_id,children:["[Master] ",e.master_nickname," - [Group Name] ",e.group_nickname,t?(0,i.jsx)("div",{onClick:function(){t(e.group_id)},children:" \ucd08\ub300 \ub9c1\ud06c \ub9cc\ub4e4\uae30"}):null]},e.group_id)}))})})]})}},9932:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return C}});var r=t(7568),s=t(1351),a=t(4051),o=t.n(a),i=t(5893),c=t(7294),u=t(4108),l=t(8348),p=t(3145),d=t(7112),h=(t(1163),t(584)),g=t.n(h),f=(t(3823),t(9473)),v=t(2505);function x(e){var n=e.fetchData,t=((0,f.v9)(v.L4),(0,f.v9)(v.pW)),s=(0,c.useState)(),a=s[0],u=s[1],l=(0,c.useState)(),p=l[0],d=l[1],h=function(){var e=(0,r.Z)(o().mark((function e(){var r,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:3333/mypage/addGroup",{method:"POST",body:JSON.stringify({master_id:t,group_nickname:a,group_password:p}),headers:{"Content-Type":"application/json"}});case 2:r=e.sent,200===(s=r.status)?(console.log("response",r),console.log("200"),n()):404===s?(alert("404 error"),console.log("404")):400===s?(alert("400 error"),console.log("400")):500===s&&(alert("500 error"),console.log("500"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:g().addDeviceContainer,children:(0,i.jsx)("a",{style:{paddingLeft:50,paddingTop:10,color:"black"},children:"Group Create"})}),(0,i.jsxs)("span",{children:["\uadf8\ub8f9 \uc774\ub984 ",(0,i.jsx)("input",{onChange:function(e){u(e.target.value),console.log(a)},placeholder:"Group Name"})," ",(0,i.jsx)("br",{}),"\uadf8\ub8f9 \ud328\uc2a4\uc6cc\ub4dc ",(0,i.jsx)("input",{onChange:function(e){d(e.target.value),console.log(p)},type:"password",placeholder:"Password"})," ",(0,i.jsx)("br",{}),(0,i.jsx)("input",{onClick:h,style:{marginTop:0},type:"submit",value:"Createa Group"})]})]})}var j=t(8280),m=t(2361);function y(e){var n=e.fetchData,t=((0,f.v9)(v.L4),(0,f.v9)(v.pW)),s=(0,c.useState)(),a=s[0],u=s[1],l=(0,c.useState)(),p=l[0],d=l[1],h=function(){var e=(0,r.Z)(o().mark((function e(){var r,s,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new Date).toISOString(),e.next=3,fetch("https://localhost:3333/mypage/groupEntering",{method:"POST",body:JSON.stringify({master_id:t,identifier:a,group_password:p,date:r}),headers:{"Content-Type":"application/json"}});case 3:return s=e.sent,e.next=6,s.json();case 6:i=e.sent,200===s.status?(console.log("Entering to "+i.group_id),n()):alert(i.err);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:g().addDeviceContainer,children:(0,i.jsx)("a",{style:{paddingLeft:50,paddingTop:10,color:"black"},children:"Entering to Group"})}),(0,i.jsxs)("span",{children:["\ucd08\ub300 \ub9c1\ud06c ",(0,i.jsx)("input",{onChange:function(e){u(e.target.value)},placeholder:"Invite link"})," ",(0,i.jsx)("br",{}),"\uadf8\ub8f9 \ud328\uc2a4\uc6cc\ub4dc ",(0,i.jsx)("input",{onChange:function(e){d(e.target.value)},type:"password",placeholder:"Password"})," ",(0,i.jsx)("br",{}),(0,i.jsx)("input",{onClick:h,style:{marginTop:0},type:"submit",value:"Entering to group"})]})]})}var _=t(828),w=t(461);t(8192),t(7466).v4;function S(e){var n=e.dvList,t=e.gpList,s=(0,_.Z)((0,w.Z)(["id","nickname"]),2),a=(s[0],s[1],(0,f.v9)(v.L4),(0,c.useState)("")),u=a[0],l=a[1];(0,f.v9)(v.pW);function p(){return(p=(0,r.Z)(o().mark((function e(){var n,t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:3333/mypage/addDevices2Group",{method:"POST",body:JSON.stringify({group_id:u,devices:devices}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:t=e.sent,console.log("data?",t),200===(r=n.status)?alert("\uadf8\ub8f9\uc5d0 \ub514\ubc14\uc774\uc2a4 \ucd94\uac00 \uc644\ub8cc!"):(alert("sometings wrong!"),console.log("status?",r));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){}),[]);var d=function(e){console.log(e.target.value),l(e.target.value)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{children:["\ub514\ubc14\uc774\uc2a4",(0,i.jsx)("select",{onChange:d,value:u,children:n.map((function(e){return(0,i.jsx)("option",{value:e.id,children:e.name},e.id)}))}),"\ub97c \uadf8\ub8f9",(0,i.jsx)("select",{onChange:d,value:u,children:t.map((function(e){return(0,i.jsx)("option",{value:e.group_id,children:e.group_nickname},e.group_id)}))}),"\uc5d0",(0,i.jsx)("input",{onClick:function(){return p.apply(this,arguments)},style:{marginTop:0},type:"submit",value:"\ucd94\uac00"})]})})}var k=t(7466).v4;function C(e){e=null!==e?e:(0,s.Z)(new TypeError("Cannot destructure undefined"));var n=(0,c.useState)([]),t=n[0],a=n[1],h=(0,c.useState)([]),g=h[0],f=h[1],v=function(){var e=(0,r.Z)(o().mark((function e(n){var t,r,s,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Date).setDate(t.getDate()+1),r=t.toISOString(),s=k(),e.next=6,fetch("https://localhost:3333/mypage/createGroupInviteLink",{method:"POST",body:JSON.stringify({groupId:n,expiration:r,identifier:s}),headers:{"Content-Type":"application/json"}});case 6:return a=e.sent,e.next=9,a.json();case 9:i=e.sent,console.log("data?",i),200===a.status?alert("\ucd08\ub300\ub9c1\ud06c \uc0dd\uc131 \uc644\ub8cc: "+s):alert("somethings wrong!");case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",height:"100%",minHeight:720},children:[(0,i.jsx)(d.Z,{}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"},children:[(0,i.jsx)(p.Z,{}),(0,i.jsx)(m.Z,{setDvList:a}),(0,i.jsx)(j.Z,{setGpList:f,inviteCode:v}),(0,i.jsx)(S,{dvList:t,gpList:g}),(0,i.jsx)(x,{}),(0,i.jsx)(y,{})]})]}),(0,i.jsx)(l.Z,{})]})}}},function(e){e.O(0,[1664,853,7398,9774,2888,179],(function(){return n=1703,e(e.s=n);var n}));var n=e.O();_N_E=n}]);