(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2443],{3547:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mypage/group",function(){return t(3687)}])},3687:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var r=t(5893),o=t(7294),i=t(4119),a=t(6866),s=t(9690),c=(t(7519),t(4051)),u=t.n(c),l=(t(1163),t(461)),p=(t(986),t(9473)),d=t(6166),f=t(981),h=t.n(f);function v(e,n,t,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void t(u)}s.done?n(c):Promise.resolve(c).then(r,o)}function y(e){var n=e.fetchData,t=((0,p.v9)(d.L4),(0,p.v9)(d.pW)),i=(0,o.useState)(),a=i[0],s=i[1],c=(0,o.useState)(),l=c[0],f=c[1],y=function(){var e,r=(e=u().mark((function e(){var r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:3333/mypage/addGroup",{method:"POST",body:JSON.stringify({master_id:t,group_nickname:a,group_password:l}),headers:{"Content-Type":"application/json"}});case 2:r=e.sent,200===(o=r.status)?(console.log("response",r),console.log("200"),n()):404===o?(alert("404 error"),console.log("404")):400===o?(alert("400 error"),console.log("400")):500===o&&(alert("500 error"),console.log("500"));case 5:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){v(i,r,o,a,s,"next",e)}function s(e){v(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:h().addDeviceContainer,children:(0,r.jsx)("a",{style:{paddingLeft:50,paddingTop:10,color:"black"},children:"Group Create"})}),(0,r.jsxs)("span",{children:["\uadf8\ub8f9 \uc774\ub984 ",(0,r.jsx)("input",{onChange:function(e){s(e.target.value),console.log(a)},placeholder:"Group Name"})," ",(0,r.jsx)("br",{}),"\uadf8\ub8f9 \ud328\uc2a4\uc6cc\ub4dc ",(0,r.jsx)("input",{onChange:function(e){f(e.target.value),console.log(l)},type:"password",placeholder:"Password"})," ",(0,r.jsx)("br",{}),(0,r.jsx)("input",{onClick:y,style:{marginTop:0},type:"submit",value:"Createa Group"})]})]})}function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function g(e,n,t,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void t(u)}s.done?n(c):Promise.resolve(c).then(r,o)}function x(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){g(i,r,o,a,s,"next",e)}function s(e){g(i,r,o,a,s,"throw",e)}a(void 0)}))}}function j(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,s=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(s)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return m(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){var n=e.checkedList,t=j((0,l.Z)(["id","nickname"]),2),i=t[0],a=(t[1],n),s=((0,p.v9)(d.L4),(0,o.useState)({})),c=(s[0],s[1]),f=(0,o.useState)([]),v=f[0],m=f[1],g=(0,o.useState)(""),b=g[0],w=g[1];(0,p.v9)(d.pW);function S(){return k.apply(this,arguments)}function k(){return(k=x(u().mark((function e(){var n,t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.id,e.next=3,fetch("https://localhost:3333/mypage/groupList",{method:"POST",body:JSON.stringify({user_id:n}),headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,console.log(r),200===t.status&&(c(r),m(r));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=x(u().mark((function e(){var n,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:3333/mypage/addDevices2Group",{method:"POST",body:JSON.stringify({group_id:b,devices:a}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:t=e.sent,console.log("data?",t),200===n.status?alert("\uadf8\ub8f9\uc5d0 \ub514\ubc14\uc774\uc2a4 \ucd94\uac00 \uc644\ub8cc!"):alert("somethings wrong!");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,o.useEffect)((function(){S()}),[]);var C=function(){console.log("invite code \uad6c\ud604\uc911...",v)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:h().addDeviceContainer,children:(0,r.jsx)("a",{style:{paddingLeft:50,paddingTop:10,color:"black"},children:"\ub0b4\uac00 \uc18d\ud55c \uadf8\ub8f9 \ub9ac\uc2a4\ud2b8"})}),(0,r.jsx)("div",{children:(0,r.jsx)("ul",{children:v.map((function(e){return(0,r.jsxs)("li",{value:e.group_id,children:["[Master] ",e.master_nickname," - [Group Name] ",e.group_nickname,(0,r.jsx)("p",{onClick:C,children:"\ucd08\ub300 \ub9c1\ud06c \ub9cc\ub4e4\uae30"})]},e.group_id)}))})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("select",{onChange:function(e){console.log(e.target.value),w(e.target.value)},value:b,children:v.map((function(e){return(0,r.jsx)("option",{value:e.group_id,children:e.group_nickname},e.group_id)}))}),(0,r.jsx)("input",{onClick:function(){return _.apply(this,arguments)},style:{marginTop:0},type:"submit",value:"\uc120\ud0dd\ud55c \ub514\ubc14\uc774\uc2a4\ub97c \uadf8\ub8f9\uc5d0 \ucd94\uac00"})]}),(0,r.jsx)(y,{fetchData:S})]})}function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function S(e,n,t,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void t(u)}s.done?n(c):Promise.resolve(c).then(r,o)}function k(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){S(i,r,o,a,s,"next",e)}function s(e){S(i,r,o,a,s,"throw",e)}a(void 0)}))}}function _(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,s=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(s)throw o}}return i}}(e,n)||T(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,n){if(e){if("string"===typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(e,n):void 0}}function A(){var e=(0,p.v9)(d.pW),n=((0,p.v9)(d.L4),_((0,l.Z)(["id","nickname"]),2)),t=n[0],i=(n[1],(0,o.useState)([])),a=i[0],s=i[1],c=(0,o.useState)([]),f=c[0],h=c[1];function v(){return(v=k(u().mark((function n(){var t,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://localhost:3333/mypage/deviceList_async",{method:"POST",body:JSON.stringify({id:e}),headers:{"Content-Type":"application/json"}});case 2:return t=n.sent,n.next=5,t.json();case 5:r=n.sent,console.log("fetch data?",r),200===t.status&&s(r);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}(0,o.useEffect)((function(){t.id;!function(){v.apply(this,arguments)}(),console.log("deviceList?2",a)}),[]);var y=[];for(var m in a)y.push((0,r.jsxs)("li",{children:[(0,r.jsxs)("span",{input:!0,type:"checkbox",children:["Device name: ",a[m].name," / "]}),(0,r.jsxs)("span",{children:["Device type: ",a[m].type]})]}));var g=function(e){var n=C(f);e.target.checked?n=C(f).concat([e.target.value]):n.splice(f.indexOf(e.target.value),1),h(n),console.log("checked?",f)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:a.map((function(e){return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{onChange:g,value:e.id,type:"checkbox"}),(0,r.jsxs)("span",{children:["NAME: ",e.name," | TYPE: ",e.type]})]})},e.id)}))}),(0,r.jsx)(b,{checkedList:f})]})}var O=t(1661);function N(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));return console.log("1"),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",height:"100%",minHeight:720},children:[(0,r.jsx)(O.Z,{}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"},children:[(0,r.jsx)(s.Z,{}),(0,r.jsx)(A,{})]})]}),(0,r.jsx)(a.Z,{})]})}}},function(e){e.O(0,[5637,1309,1276,9774,2888,179],(function(){return n=3547,e(e.s=n);var n}));var n=e.O();_N_E=n}]);