(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2443],{51703:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mypage/group",function(){return n(49932)}])},28192:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(47568),s=n(828),i=n(70655),o=n(85893),a=n(67294),u=(n(11163),n(70461)),c=(n(13823),n(9473)),l=n(32505);n(97466).v4;function p(e){var t=e.groupID,n=(0,s.Z)((0,u.Z)(["id","nickname"]),2),p=(n[0],n[1],(0,c.v9)(l.L4),(0,a.useState)([])),d=p[0],h=p[1],g=(0,a.useState)([]),f=(g[0],g[1],(0,a.useState)("")),v=f[0],j=f[1];(0,c.v9)(l.pW);function m(){return(m=(0,r.Z)((function(){var e,n,r,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=t,[4,fetch("https://localhost:3333/mypage/groupDeviceList",{method:"POST",body:JSON.stringify({group_id:e}),headers:{"Content-Type":"application/json"}})];case 1:return[4,(n=i.sent()).json()];case 2:return r=i.sent(),200===(s=n.status)?(console.log(r),h(r),j("")):404===s?(console.log(s),h([]),j("\ud574\ub2f9 \uadf8\ub8f9\uc5d0\ub294 \ub4f1\ub85d\ub41c \ub514\ubc14\uc774\uc2a4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")):(alert("sometings wrong!"),console.log("status?",s),j("\ubb34\uc5b8\uac00 \uc5d0\ub7ec\uac00 \uc788\uc2b5\ub2c8\ub2e4.")),[2]}}))}))).apply(this,arguments)}return(0,a.useEffect)((function(){!function(){m.apply(this,arguments)}()}),[t]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{children:[(0,o.jsx)("ul",{children:d.map((function(e){return(0,o.jsxs)("li",{value:e.device_id,children:["[device_name] ",e.device_name," - [device_type] ",e.device_type]},e.device_id)}))}),v]})})}},18280:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(47568),s=n(828),i=n(70655),o=n(85893),a=n(67294),u=(n(11163),n(70461)),c=n(50584),l=n.n(c),p=(n(13823),n(9473)),d=n(32505);n(97466).v4;function h(e){var t=e.setGpList,n=e.inviteCode,c=(0,s.Z)((0,u.Z)(["id","nickname"]),2),h=c[0],g=(c[1],(0,p.v9)(d.L4),(0,a.useState)([])),f=(g[0],g[1],(0,a.useState)([])),v=f[0],j=f[1],m=(0,a.useState)("");m[0],m[1],(0,p.v9)(d.pW);function x(){return x=(0,r.Z)((function(){var e,n,r;return(0,i.__generator)(this,(function(s){switch(s.label){case 0:return e=h.id,[4,fetch("https://localhost:3333/mypage/groupList",{method:"POST",body:JSON.stringify({user_id:e}),headers:{"Content-Type":"application/json"}})];case 1:return[4,(n=s.sent()).json()];case 2:return r=s.sent(),console.log(r),200===n.status&&(j(r),null!=t&&t(r)),[2]}}))})),x.apply(this,arguments)}return(0,a.useEffect)((function(){!function(){x.apply(this,arguments)}()}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:l().addDeviceContainer,children:(0,o.jsx)("a",{style:{paddingLeft:50,paddingTop:10,color:"black"},children:"\ub0b4\uac00 \uc18d\ud55c \uadf8\ub8f9 \ub9ac\uc2a4\ud2b8"})}),(0,o.jsx)("div",{children:(0,o.jsx)("ul",{children:v.map((function(e){return(0,o.jsxs)("li",{value:e.group_id,children:["[Master] ",e.master_nickname," - [Group Name] ",e.group_nickname,n?(0,o.jsx)("div",{onClick:function(){n(e.group_id)},children:" \ucd08\ub300 \ub9c1\ud06c \ub9cc\ub4e4\uae30"}):null]},e.group_id)}))})})]})}},49932:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(47568),s=n(51351),i=n(70655),o=n(85893),a=n(67294),u=n(44108),c=n(78348),l=n(43145),p=n(17112),d=(n(11163),n(50584)),h=n.n(d),g=(n(13823),n(9473)),f=n(32505);function v(e){var t=e.fetchData,n=((0,g.v9)(f.L4),(0,g.v9)(f.pW)),s=(0,a.useState)(),u=s[0],c=s[1],l=(0,a.useState)(),p=l[0],d=l[1],v=function(){var e=(0,r.Z)((function(){var e,r;return(0,i.__generator)(this,(function(s){switch(s.label){case 0:return[4,fetch("https://localhost:3333/mypage/addGroup",{method:"POST",body:JSON.stringify({master_id:n,group_nickname:u,group_password:p}),headers:{"Content-Type":"application/json"}})];case 1:return e=s.sent(),200===(r=e.status)?(console.log("response",e),console.log("200"),t()):404===r?(alert("404 error"),console.log("404")):400===r?(alert("400 error"),console.log("400")):500===r&&(alert("500 error"),console.log("500")),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:h().addDeviceContainer,children:(0,o.jsx)("a",{style:{paddingLeft:50,paddingTop:10,color:"black"},children:"Group Create"})}),(0,o.jsxs)("span",{children:["\uadf8\ub8f9 \uc774\ub984 ",(0,o.jsx)("input",{onChange:function(e){c(e.target.value),console.log(u)},placeholder:"Group Name"})," ",(0,o.jsx)("br",{}),"\uadf8\ub8f9 \ud328\uc2a4\uc6cc\ub4dc ",(0,o.jsx)("input",{onChange:function(e){d(e.target.value),console.log(p)},type:"password",placeholder:"Password"})," ",(0,o.jsx)("br",{}),(0,o.jsx)("input",{onClick:v,style:{marginTop:0},type:"submit",value:"Createa Group"})]})]})}var j=n(18280),m=n(32361);function x(e){var t=e.fetchData,n=((0,g.v9)(f.L4),(0,g.v9)(f.pW)),s=(0,a.useState)(),u=s[0],c=s[1],l=(0,a.useState)(),p=l[0],d=l[1],v=function(){var e=(0,r.Z)((function(){var e,r,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=(new Date).toISOString(),[4,fetch("https://localhost:3333/mypage/groupEntering",{method:"POST",body:JSON.stringify({master_id:n,identifier:u,group_password:p,date:e}),headers:{"Content-Type":"application/json"}})];case 1:return[4,(r=i.sent()).json()];case 2:return s=i.sent(),200===r.status?(console.log("Entering to "+s.group_id),t()):alert(s.err),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:h().addDeviceContainer,children:(0,o.jsx)("a",{style:{paddingLeft:50,paddingTop:10,color:"black"},children:"Entering to Group"})}),(0,o.jsxs)("span",{children:["\ucd08\ub300 \ub9c1\ud06c ",(0,o.jsx)("input",{onChange:function(e){c(e.target.value)},placeholder:"Invite link"})," ",(0,o.jsx)("br",{}),"\uadf8\ub8f9 \ud328\uc2a4\uc6cc\ub4dc ",(0,o.jsx)("input",{onChange:function(e){d(e.target.value)},type:"password",placeholder:"Password"})," ",(0,o.jsx)("br",{}),(0,o.jsx)("input",{onClick:v,style:{marginTop:0},type:"submit",value:"Entering to group"})]})]})}var y=n(828),_=n(70461);n(28192),n(97466).v4;function S(e){var t=e.dvList,n=e.gpList,s=(0,y.Z)((0,_.Z)(["id","nickname"]),2),u=(s[0],s[1],(0,g.v9)(f.L4),(0,a.useState)("")),c=u[0],l=u[1];(0,g.v9)(f.pW);function p(){return(p=(0,r.Z)((function(){var e,t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,fetch("https://localhost:3333/mypage/addDevices2Group",{method:"POST",body:JSON.stringify({group_id:c,devices:devices}),headers:{"Content-Type":"application/json"}})];case 1:return[4,(e=r.sent()).json()];case 2:return t=r.sent(),console.log("data?",t),200===(n=e.status)?alert("\uadf8\ub8f9\uc5d0 \ub514\ubc14\uc774\uc2a4 \ucd94\uac00 \uc644\ub8cc!"):(alert("sometings wrong!"),console.log("status?",n)),[2]}}))}))).apply(this,arguments)}(0,a.useEffect)((function(){}),[]);var d=function(e){console.log(e.target.value),l(e.target.value)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{children:["\ub514\ubc14\uc774\uc2a4",(0,o.jsx)("select",{onChange:d,value:c,children:t.map((function(e){return(0,o.jsx)("option",{value:e.id,children:e.name},e.id)}))}),"\ub97c \uadf8\ub8f9",(0,o.jsx)("select",{onChange:d,value:c,children:n.map((function(e){return(0,o.jsx)("option",{value:e.group_id,children:e.group_nickname},e.group_id)}))}),"\uc5d0",(0,o.jsx)("input",{onClick:function(){return p.apply(this,arguments)},style:{marginTop:0},type:"submit",value:"\ucd94\uac00"})]})})}var w=n(97466).v4;function C(e){e=null!==e?e:(0,s.Z)(new TypeError("Cannot destructure undefined"));var t=(0,a.useState)([]),n=t[0],d=t[1],h=(0,a.useState)([]),g=h[0],f=h[1],y=function(){var e=(0,r.Z)((function(e){var t,n,r,s,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(t=new Date).setDate(t.getDate()+1),n=t.toISOString(),r=w(),[4,fetch("https://localhost:3333/mypage/createGroupInviteLink",{method:"POST",body:JSON.stringify({groupId:e,expiration:n,identifier:r}),headers:{"Content-Type":"application/json"}})];case 1:return[4,(s=i.sent()).json()];case 2:return o=i.sent(),console.log("data?",o),200===s.status?alert("\ucd08\ub300\ub9c1\ud06c \uc0dd\uc131 \uc644\ub8cc: "+r):alert("somethings wrong!"),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,{}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row",height:"100%",minHeight:720},children:[(0,o.jsx)(p.Z,{}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"},children:[(0,o.jsx)(l.Z,{}),(0,o.jsx)(m.Z,{setDvList:d}),(0,o.jsx)(j.Z,{setGpList:f,inviteCode:y}),(0,o.jsx)(S,{dvList:n,gpList:g}),(0,o.jsx)(v,{}),(0,o.jsx)(x,{})]})]}),(0,o.jsx)(c.Z,{})]})}}},function(e){e.O(0,[1664,853,7398,9774,2888,179],(function(){return t=51703,e(e.s=t);var t}));var t=e.O();_N_E=t}]);