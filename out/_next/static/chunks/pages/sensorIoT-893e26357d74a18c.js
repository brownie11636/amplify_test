(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8955],{69717:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sensorIoT",function(){return n(67097)}])},37762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(85893);n(67294),n(41664);function o(e){return(0,r.jsx)("div",{onClick:function(){e.onSelect(e.profile)},className:"service-profile-card",children:(0,r.jsxs)("div",{className:"frame",children:[(0,r.jsx)("div",{className:"icon",children:(0,r.jsx)("i",{className:"flaticon-automatic"})}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("h3",{children:(0,r.jsx)("a",{children:e.profile.nickname})}),(0,r.jsxs)("p",{children:["SID: ",e.profile.sid]})]})]})})}function i(e){var t=function(t){e.onProfileSelect(t)},n=e.profileList,i=[],c=!0,a=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(c=(l=u.next()).done);c=!0){var f=l.value;i.push((0,r.jsx)(o,{onSelect:t,profile:f},Math.random()))}}catch(d){a=!0,s=d}finally{try{c||null==u.return||u.return()}finally{if(a)throw s}}return(0,r.jsx)("div",{className:"scroll-area",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h3",{children:"Select Service Profile"}),(0,r.jsx)("div",{className:"row",children:i})]})})}},67097:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(85893),o=n(44108),i=n(73538),c=n(78348),a=(n(9315),n(47568)),s=n(828),l=n(70655),u=n(67294),f=n(17826),d=function(e){return(0,r.jsx)(f.fH,{data:e.data,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",stacked:!0,min:"auto",max:"auto"},minY:"auto",maxY:"auto",stacked:!0,curve:"cardinal",axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"transportation",legendOffset:36,legendPosition:"center"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"count",legendOffset:-40,legendPosition:"center"},dotSize:10,dotColor:"inherit:darker(0.3)",dotBorderWidth:2,dotBorderColor:"#ffffff",enableDotLabel:!0,dotLabel:"y",dotLabelYOffset:-12,animate:!0,motionStiffness:90,motionDamping:15,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})},h=n(86809),m=n.n(h),v=n(37762),g=function(){var e=(0,u.useRef)(),t=((0,u.useRef)(),(0,u.useRef)(),(0,u.useRef)(),(0,u.useRef)(),(0,u.useRef)()),n=(0,u.useState)([]),o=n[0],i=n[1],c=(0,u.useState)([]),f=c[0],h=c[1],g=(0,u.useState)([{id:"japan",color:"hsl(135, 70%, 50%)",data:[{x:0,y:0},{x:10,y:10},{x:20,y:20},{x:30,y:10},{x:40,y:30}]}]),x=g[0],p=g[1],y=(0,u.useState)([]),j=y[0],S=y[1];(0,u.useEffect)((function(){S(j.concat({header:"ServiceList",filter:{}}));var n=new Array({header:"ServiceList",filter:{}});return e.current=m()("https://192.168.0.22:3333",{transports:["websocket"]}),e.current.connected?console.log("connected"):console.log("not conn"),e.current.emit("q_service",n),e.current.on("user-connected",(function(e){console.log('"user-connected"',e)})),e.current.on("joined",(function(e,t){console.log("joined!")})),e.current.on("q_result",(function(e){var n=JSON.parse(e);if("ServiceList"===n.header){t.current=n.data,i(n.data);var r=f,o=!0,c=!1,a=void 0;try{for(var l,u=Object.entries(Object(t.current))[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var d=(0,s.Z)(l.value,2),m=d[0],v=d[1];r=r.concat("".concat(m,":").concat(v.sid))}}catch(g){c=!0,a=g}finally{try{o||null==u.return||u.return()}finally{if(c)throw a}}h(r)}})),e.current.on("msg-v0",function(){var e=(0,a.Z)((function(e){var t,n,r,o,i,c,a,s,u;return(0,l.__generator)(this,(function(l){for(var f in console.log("msg-v0: ",JSON.parse(e)),t=JSON.parse(e).data,r=[],n={ch0:[],ch1:[],ch2:[],ch3:[],ch4:[]})r.push({id:f,data:n[f]});o=!0,i=!1,c=void 0;try{for(a=function(){var e=u.value,t=JSON.parse(e.data),r=Object.keys(t)[0],o=t[r].data,i=t[r].t0;console.log(o),o.forEach((function(e,t){n[r].push({x:i+40*t,y:e})}))},s=t[Symbol.iterator]();!(o=(u=s.next()).done);o=!0)a()}catch(d){i=!0,c=d}finally{try{o||null==s.return||s.return()}finally{if(i)throw c}}return console.log("buf:",n),p(r),[2]}))}));return function(t){return e.apply(this,arguments)}}()),e.current.on("log",(function(e){console.log(e)})),function(){}}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"base-frame bg-f2f6f9",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-lg-6 col-sm-8",children:(0,r.jsx)("div",{className:"service-list-area",children:(0,r.jsx)(v.Z,{profileList:o,onProfileSelect:function(t){e.current.emit("msg-v0",{_H:"DREQ",TSID:"test_0000_0000_0000"}),console.log("Selected profile:",t.nickname)}})})})})})}),(0,r.jsx)("div",{style:{height:500},children:(0,r.jsx)(d,{data:x})})]})};function x(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)(i.Z,{pageTitle:"Sensor IoT",homePageUrl:"/",homePageText:"Home",activePageText:"Sensor IoT",bgImgClass:"item-bg2"}),(0,r.jsx)(g,{}),(0,r.jsx)(c.Z,{})]})}},77020:function(){}},function(e){e.O(0,[1664,5234,3719,7112,9774,2888,179],(function(){return t=69717,e(e.s=t);var t}));var t=e.O();_N_E=t}]);