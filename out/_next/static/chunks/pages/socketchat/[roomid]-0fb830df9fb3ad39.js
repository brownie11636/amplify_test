(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9377],{3165:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/socketchat/[roomid]",function(){return o(1589)}])},8319:function(e,n,o){"use strict";var t=o(5893),s=o(1724),a=o.n(s),r=o(7294),i=o(4197),l=o(461),c=o(6809);function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var o=0,t=new Array(n);o<n;o++)t[o]=e[o];return t}function d(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var o=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var t,s,a=[],r=!0,i=!1;try{for(o=o.call(e);!(r=(t=o.next()).done)&&(a.push(t.value),!n||a.length!==n);r=!0);}catch(l){i=!0,s=l}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}return a}}(e,n)||m(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,n){if(e){if("string"===typeof e)return _(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_(e,n):void 0}}var h=o.n(c)()("https://localhost:3333",{transports:["websocket"]});n.Z=function(e){var n=e.roomID,o=(0,r.useState)(!0),s=(o[0],o[1],(0,r.useState)("")),c=s[0],_=s[1],m=(0,r.useState)([]),f=m[0],g=m[1],v=d((0,l.Z)(["roomID"]),2),p=v[0];(0,v[1])("roomID",n),(0,r.useEffect)((function(){return h.connect(),console.log("in sock compo roomID?",p.roomID,"\n",n),void 0!=n?(console.log("if in"),h.emit("join-room",n,"dummy-nick")):void 0==n?(console.log("else if in"),h.emit("join-room",p.roomID,"dummy-nick")):console.log("somethings wrong!"),function(){console.log("unmounted"),h.disconnect()}}),[]),console.log("sock con??",h.connected);h.on("createMessage",(function(e,n){console.log("create msg!"),g(u(f).concat([{userName:n,message:e}]))}));return(0,t.jsx)(i.J.Provider,{value:h,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:a().header,children:(0,t.jsxs)("div",{className:a().logo,children:[(0,t.jsx)("div",{className:a().header__back,children:(0,t.jsx)("i",{className:"styles.fas fa-angle-left"})}),(0,t.jsx)("h3",{children:"Socket Chat"})]})}),(0,t.jsxs)("div",{className:a().main,children:[(0,t.jsxs)("div",{className:a().main__left,children:[(0,t.jsxs)("div",{className:a().videos__group,children:[(0,t.jsx)("p",{style:{color:"white"},children:"Graphs will be here soon!"}),(0,t.jsx)("div",{id:a().video_grid})]}),(0,t.jsxs)("div",{className:a().options,children:[(0,t.jsxs)("div",{className:a().options__left,children:[(0,t.jsx)("div",{id:a().downloadButton,className:a().options__button,children:(0,t.jsx)("i",{className:"fa-solid fa-download"})}),(0,t.jsx)("div",{id:a().questionButton,className:a().options__button,children:(0,t.jsx)("i",{className:"fa-solid fa-circle-question"})}),(0,t.jsx)("div",{id:a().showChat,className:a().options__button,children:(0,t.jsx)("i",{className:"fa fa-comment"})})]}),(0,t.jsx)("div",{className:a().options__right,children:(0,t.jsx)("div",{id:a().inviteButton,className:a().options__button,children:(0,t.jsx)("i",{className:"fas fa-user-plus"})})})]})]}),(0,t.jsxs)("div",{className:a().main__right,children:[(0,t.jsx)("div",{className:a().main__chat_window,children:(0,t.jsx)("div",{className:a().messages,children:f.map((function(e,n){var o=e.userName,s=e.message;return(0,t.jsx)("div",{className:a().message,children:(0,t.jsxs)("h3",{children:[o,":",(0,t.jsx)("span",{children:s})]})},n)}))})}),(0,t.jsxs)("div",{className:a().main__message_container,children:[(0,t.jsx)("input",{onChange:function(e){_(e.target.value),console.log(c)},value:c,id:a().chat_message,type:"text",autoComplete:"off",placeholder:"Type message here..."}),(0,t.jsx)("div",{onClick:function(){0!==c.length?(console.log("none zero"),h.emit("message",c),_("")):console.log("text length is zero")},id:a().send,className:a().options__button,children:(0,t.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"})})]})]})]})]})})}},1589:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return c}});var t=o(5893),s=(o(7294),o(4119)),a=o(50),r=o(6866),i=o(1163),l=o(8319);function c(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var n=(0,i.useRouter)();n.query.roomid;console.log("rt2?",n.query.query_roomid),console.log("rt?",n);var o=n.query.query_roomid;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Z,{}),(0,t.jsx)(a.Z,{pageTitle:"Security & Surveillance",homePageUrl:"/",homePageText:"Home",activePageText:"Service Details",bgImgClass:"item-bg2"}),(0,t.jsx)(l.Z,{roomID:o}),(0,t.jsx)(r.Z,{})]})}},1724:function(e){e.exports={root:"Chat_root__UdO7s",header:"Chat_header__aCAg_",logo:"Chat_logo__vyW6R",main:"Chat_main___VSWW",main__left:"Chat_main__left__84PSN",videos__group:"Chat_videos__group__KCvOQ",options:"Chat_options__zzeQE",options__left:"Chat_options__left__FV578",options__right:"Chat_options__right__rBBOn",options__button:"Chat_options__button__jWpX4",background__red:"Chat_background__red__ha0rU",main__right:"Chat_main__right__XCVCh",main__chat_window:"Chat_main__chat_window__yAamR",main__message_container:"Chat_main__message_container__tfJhQ",messages:"Chat_messages__JaF3N",message:"Chat_message__hRlwN",video_grid:"Chat_video_grid__Iervg",showChat:"Chat_showChat__ldO7h",header__back:"Chat_header__back__dLaYy"}}},function(e){e.O(0,[5637,6809,1309,2882,9774,2888,179],(function(){return n=3165,e(e.s=n);var n}));var n=e.O();_N_E=n}]);