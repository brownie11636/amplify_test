(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8955],{69717:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sensorIoT",function(){return r(67097)}])},9315:function(e,t,r){"use strict";var n=r(51438),s=r(52951),i=r(88029),a=r(5950),c=r(85893),o=r(67294),l=r(41664),d=r.n(l),u=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){return(0,c.jsx)("div",{className:"services-details-area ptb-110",children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsxs)("div",{className:"services-details-overview",children:[(0,c.jsxs)("div",{className:"services-details-desc mb-30",children:[(0,c.jsx)("h3",{children:"Streamer"}),(0,c.jsx)("p",{children:"WebRTC\ub97c \ud1b5\ud574 \uc2a4\ud2b8\ub9ac\uba38\uac00 \ub418\uc5b4\ubcf4\uc138\uc694!"}),(0,c.jsx)("div",{className:"btn-box",children:(0,c.jsx)(d(),{href:"/webrtc/cast",children:(0,c.jsx)("a",{className:"btn btn-primary",children:"Become a Streamer"})})})]}),(0,c.jsx)("div",{className:"services-details-image",children:(0,c.jsx)("img",{src:"/images/services-details/service-details1.jpg",alt:"image"})})]}),(0,c.jsxs)("div",{className:"services-details-overview",children:[(0,c.jsxs)("div",{className:"services-details-desc",children:[(0,c.jsx)("h3",{children:"Viewer"}),(0,c.jsx)("p",{children:"\ub2e4\ub978 \uc2a4\ud2b8\ub9ac\uba38\ub97c \uc2dc\uccad\ud574\ubcf4\uc138\uc694!"}),(0,c.jsx)("div",{className:"btn-box",children:(0,c.jsx)(d(),{href:"/webrtc/view",children:(0,c.jsx)("a",{className:"btn btn-primary",children:"Become a Viewer"})})})]}),(0,c.jsx)("div",{className:"services-details-image mb-30",children:(0,c.jsx)("img",{src:"/images/services-details/service-details2.jpg",alt:"image"})})]})]})})}}]),r}(o.Component);t.Z=u},67097:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(85893),s=r(44108),i=r(73538),a=r(78348),c=(r(9315),r(47568)),o=r(828),l=r(34051),d=r.n(l),u=r(67294),f=r(17826),m=function(e){return(0,n.jsx)(f.fH,{data:e.data,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",stacked:!0,min:"auto",max:"auto"},minY:"auto",maxY:"auto",stacked:!0,curve:"cardinal",axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"transportation",legendOffset:36,legendPosition:"center"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"count",legendOffset:-40,legendPosition:"center"},dotSize:10,dotColor:"inherit:darker(0.3)",dotBorderWidth:2,dotBorderColor:"#ffffff",enableDotLabel:!0,dotLabel:"y",dotLabelYOffset:-12,animate:!0,motionStiffness:90,motionDamping:15,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})},h=r(86809),v=r.n(h),x=r(37762),g=function(){var e=(0,u.useRef)(),t=((0,u.useRef)(),(0,u.useRef)(),(0,u.useRef)(),(0,u.useRef)(),(0,u.useRef)()),r=(0,u.useState)([]),s=r[0],i=r[1],a=(0,u.useState)([]),l=a[0],f=a[1],h=(0,u.useState)([{id:"japan",color:"hsl(135, 70%, 50%)",data:[{x:0,y:0},{x:10,y:10},{x:20,y:20},{x:30,y:10},{x:40,y:30}]}]),g=h[0],p=h[1],j=(0,u.useState)([]),b=j[0],y=j[1];(0,u.useEffect)((function(){y(b.concat({header:"ServiceList",filter:{}}));var r=new Array({header:"ServiceList",filter:{}});return e.current=v()("https://192.168.0.22:3333",{transports:["websocket"]}),e.current.connected?console.log("connected"):console.log("not conn"),e.current.emit("q_service",r),e.current.on("user-connected",(function(e){console.log('"user-connected"',e)})),e.current.on("joined",(function(e,t){console.log("joined!")})),e.current.on("q_result",(function(e){var r=JSON.parse(e);if("ServiceList"===r.header){t.current=r.data,i(r.data);var n=l,s=!0,a=!1,c=void 0;try{for(var d,u=Object.entries(Object(t.current))[Symbol.iterator]();!(s=(d=u.next()).done);s=!0){var m=(0,o.Z)(d.value,2),h=m[0],v=m[1];n=n.concat("".concat(h,":").concat(v.sid))}}catch(x){a=!0,c=x}finally{try{s||null==u.return||u.return()}finally{if(a)throw c}}f(n)}})),e.current.on("msg-v0",function(){var e=(0,c.Z)(d().mark((function e(t){var r,n,s,i,a,c,o,l,u,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in console.log("msg-v0: ",JSON.parse(t)),r=JSON.parse(t).data,s=[],n={ch0:[],ch1:[],ch2:[],ch3:[],ch4:[]})s.push({id:i,data:n[i]});for(a=!0,c=!1,o=void 0,e.prev=6,l=function(){var e=f.value,t=JSON.parse(e.data),r=Object.keys(t)[0],s=t[r].data,i=t[r].t0;console.log(s),s.forEach((function(e,t){n[r].push({x:i+40*t,y:e})}))},u=r[Symbol.iterator]();!(a=(f=u.next()).done);a=!0)l();e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),c=!0,o=e.t0;case 15:e.prev=15,e.prev=16,a||null==u.return||u.return();case 18:if(e.prev=18,!c){e.next=21;break}throw o;case 21:return e.finish(18);case 22:return e.finish(15);case 23:console.log("buf:",n),p(s);case 25:case"end":return e.stop()}}),e,null,[[6,11,15,23],[16,,18,22]])})));return function(t){return e.apply(this,arguments)}}()),e.current.on("log",(function(e){console.log(e)})),function(){}}),[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"base-frame bg-f2f6f9",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-lg-6 col-sm-8",children:(0,n.jsx)("div",{className:"service-list-area",children:(0,n.jsx)(x.Z,{profileList:s,onProfileSelect:function(t){e.current.emit("msg-v0",{_H:"DREQ",TSID:"test_0000_0000_0000"}),console.log("Selected profile:",t.nickname)}})})})})})}),(0,n.jsx)("div",{style:{height:500},children:(0,n.jsx)(m,{data:g})})]})};function p(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Z,{}),(0,n.jsx)(i.Z,{pageTitle:"Sensor IoT",homePageUrl:"/",homePageText:"Home",activePageText:"Sensor IoT",bgImgClass:"item-bg2"}),(0,n.jsx)(g,{}),(0,n.jsx)(a.Z,{})]})}}},function(e){e.O(0,[1664,5234,3719,1700,9774,2888,179],(function(){return t=69717,e(e.s=t);var t}));var t=e.O();_N_E=t}]);